
pipeline {
    agent any

    stages {
        stage('Clone and Deploy') {
            steps {
                checkout([$class: 'GitSCM', branches: [[name: '*/master']], userRemoteConfigs: [[url: 'https://github.com/kushilkumar/kushi.git']]])

                // Copy the file to Tomcat webapps directory
                sh "cp sample.war /opt/apache-tomcat-9.0.79/webapps/ROOT"

                // Stop Tomcat (optional)
                sh "/opt/apache-tomcat-9.0.79/bin/shutdown.sh"

                // Start Tomcat (optional)
                sh "/opt/apache-tomcat-9.0.79/bin/startup.sh"
            }
        }
    }
}






